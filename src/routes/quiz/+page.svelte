<script>
  // ã‚µãƒ¼ãƒã‹ã‚‰å—ã‘å–ã£ãŸãƒ‡ãƒ¼ã‚¿ã ã‘ã‚’ä½¿ã†ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ã§ fetch ã—ãªã„ï¼‰
  export let data;
  const { quizzes = [] } = data;
</script>

<svelte:head>
  <title>ã‚¯ã‚¤ã‚ºä¸€è¦§ - è„³ãƒˆãƒ¬æ—¥å’Œ</title>
  <meta name="description" content="è„³ãƒˆãƒ¬æ—¥å’Œã®ã‚¯ã‚¤ã‚ºä¸€è¦§ãƒšãƒ¼ã‚¸ã§ã™ã€‚ãƒãƒƒãƒæ£’ã‚¯ã‚¤ã‚ºã‚„é–“é•ã„æ¢ã—ãªã©ã€æ¥½ã—ã„ã‚¯ã‚¤ã‚ºã«æŒ‘æˆ¦ã—ã¾ã—ã‚‡ã†ã€‚" />
</svelte:head>

<main>
  <div class="section-header">
    <h1 class="section-title">ğŸ§© ã‚¯ã‚¤ã‚ºä¸€è¦§</h1>
  </div>

  {#if quizzes.length === 0}
    <p>ã¾ã ã‚¯ã‚¤ã‚ºãŒæŠ•ç¨¿ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚</p>
  {:else}
    <div class="quiz-grid">
      {#each quizzes as quiz}
        <article class="quiz-card">
          <!-- ğŸ”— slug ã§é·ç§»ï¼ˆ_id ã§ã¯ãªãï¼‰ -->
          <a class="quiz-link" href={"/quiz/" + quiz.slug}>
            <div class="quiz-content">
              <h2 class="quiz-title">{quiz.title}</h2>

              {#if quiz?.mainImage?.asset?.url}
                <img
                  src={quiz.mainImage.asset.url}
                  alt={quiz.title}
                  style="width:100%;height:auto;border-radius:12px;margin:8px 0;"
                />
              {/if}

              <div class="quiz-meta">
                <span class="quiz-type">ğŸ§© ã‚¯ã‚¤ã‚º</span>
                <span class="quiz-action">æŒ‘æˆ¦ã™ã‚‹ â†’</span>
              </div>
            </div>
          </a>
        </article>
      {/each}
    </div>
  {/if}
</main>

<style>
  main { max-width: 1000px; margin: 0 auto; padding: 1rem; }
  .section-header { text-align: center; margin-bottom: 2rem; }
  .section-title { font-size: 2rem; font-weight: 700; color: var(--dark-gray); margin: 0; }
  .quiz-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 2rem; margin-top: 2rem; }
  .quiz-card { background: var(--white); border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,.1); overflow: hidden; transition: .3s; border-left: 4px solid var(--primary-yellow); }
  .quiz-card:hover { transform: translateY(-4px); box-shadow: 0 8px 30px rgba(0,0,0,.15); }
  .quiz-link { text-decoration: none; color: inherit; display: block; }
  .quiz-content { padding: 1.5rem; }
  .quiz-title { font-size: 1.25rem; font-weight: 700; color: var(--dark-gray); margin-bottom: .75rem; line-height: 1.4; }
  .quiz-meta { display: flex; justify-content: space-between; align-items: center; font-size: .9rem; color: var(--medium-gray); }
  .quiz-action { color: var(--primary-yellow); font-weight: 600; }
  @media (max-width: 768px) { .quiz-grid { grid-template-columns: 1fr; gap: 1.5rem; } .quiz-content { padding: 1rem; } .section-title { font-size: 1.5rem; } }
</style>
